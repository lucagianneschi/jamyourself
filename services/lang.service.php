<?php/* ! \par		Info Generali: *  \author		Daniele Caldelli *  \version	        1.0 *  \date		2013 *  \copyright	        Jamyourself.com 2013 *  \par		Info Classe: *  \brief		Language *  \details	        Funzione per determinare la lingua da visualizzare *  \par		Commenti: *  \warning *  \bug *  \todo * */# the list of language are here: http://msdn.microsoft.com/en-us/library/windows/desktop/dd318693(v=vs.85).aspxfunction getLanguage() {    $langAccepted = array('en', 'it', 'fr', 'de', 'es');    $lang = 'en';    if (!isset($_SESSION['currentUser'])) {	$langBrowser = substr($_SERVER["HTTP_ACCEPT_LANGUAGE"], 0, 2);	if (in_array($langBrowser, $langAccepted)) {	    $lang = $langBrowser;	}    } else {	$settings = $_SESSION['currentUser']->getSettings();	$langUser = strtolower($settings[0]);	if (in_array($langUser, $langAccepted)) {	    $lang = $langUser;	}    }    switch ($lang) {	case 'it':	    setlocale(LC_TIME, 'it_IT.utf8');	    break;	default:	    setlocale(LC_TIME, 'en_EN.utf8');	    break;    }    return $lang;}?>